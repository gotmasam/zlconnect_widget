{"remainingRequest":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue?vue&type=template&id=388ef6af&scoped=true","dependencies":[{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue","mtime":1652246787000},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\babel-loader\\lib\\index.js","mtime":1739441795918},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1739441802021},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1739441797509}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiB2LWlmPSJpc1ZpZXdEYXRlIiBjbGFzcz0ibS0yIj48c3BhbiBjbGFzcz0iYmctd2hpdGUgYm9yZGVyIGJvcmRlci1tYWluIHBhZGRpbmctYmFsbG9vbiByb3VuZGVkLXBpbGwiPnt7IHZpZXdEYXRlIH19PC9zcGFuPjwvZGl2PgogIDxkaXYgY2xhc3M9ImJhbGxvb24iIDpjbGFzcz0ic3BlYWtlciI+CiAgICA8ZGl2IDpjbGFzcz0ie2FjdGl2ZTogIWlzQ29udGVudExvYWRlZCAmJiAodHlwZSA9PT0gJ2ltYWdlJyB8fCB0eXBlID09PSAndmlkZW8nKX0iIGNsYXNzPSJzcGlubmVyLWJvcmRlciIgcm9sZT0ic3RhdHVzIj4KICAgICAgPHNwYW4gY2xhc3M9InZpc3VhbGx5LWhpZGRlbiI+6Kqt6L685LitLi4uPC9zcGFuPgogICAgPC9kaXY+CiAgICA8cCB2LWlmPSJ0eXBlID09PSAndGV4dCciIGNsYXNzPSJtZXNzYWdlIHBhZGRpbmctYmFsbG9vbiI+e3sgbWVzc2FnZSB9fTwvcD4KICAgIDxpbWcgdi1lbHNlLWlmPSJ0eXBlID09PSAnc3RpY2tlciciIDpzcmM9InVybCIgQGxvYWQ9ImNvbnRlbnRMb2FkZWQiIGNsYXNzPSJzdGlja2VyIj4KICAgIDxpbWcgdi1lbHNlLWlmPSJ0eXBlID09PSAnaW1hZ2UnIiA6c3JjPSJ1cmwiIEBsb2FkPSJjb250ZW50TG9hZGVkIiBAY2xpY2s9ImNsaWNrZWRJbWFnZSI+CiAgICA8dmlkZW8gdi1lbHNlLWlmPSJ0eXBlID09PSAndmlkZW8nIiA6c3JjPSJ1cmwgKyAnI3Q9MC4wMDEnIiBAbG9hZGVkbWV0YWRhdGE9ImNvbnRlbnRMb2FkZWQiIGNvbnRyb2xzIHBsYXlzaW5saW5lPjwvdmlkZW8+CiAgICA8YXVkaW8gdi1lbHNlLWlmPSJ0eXBlID09PSAnYXVkaW8nIiA6c3JjPSJ1cmwiIGNvbnRyb2xzPjwvYXVkaW8+CiAgICA8YSB2LWVsc2UtaWY9InR5cGUgPT09ICdhcHBsaWNhdGlvbiciIDpocmVmPSJ1cmwiIGNsYXNzPSJtZXNzYWdlIHBhZGRpbmctYmFsbG9vbiIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciI+e3sgdXJsIH19PC9hPgogICAgPHNwYW4gY2xhc3M9InRpbWVzdGFtcCB0ZXh0LW11dGVkIG14LTEiPnt7IHRTdGFtcCB9fTwvc3Bhbj4KICA8L2Rpdj4K"},{"version":3,"sources":["C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrH,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACxI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5D,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/m.ebisu/Desktop/zl_connect/src/components/Balloon.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"isViewDate\" class=\"m-2\"><span class=\"bg-white border border-main padding-balloon rounded-pill\">{{ viewDate }}</span></div>\n  <div class=\"balloon\" :class=\"speaker\">\n    <div :class=\"{active: !isContentLoaded && (type === 'image' || type === 'video')}\" class=\"spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">読込中...</span>\n    </div>\n    <p v-if=\"type === 'text'\" class=\"message padding-balloon\">{{ message }}</p>\n    <img v-else-if=\"type === 'sticker'\" :src=\"url\" @load=\"contentLoaded\" class=\"sticker\">\n    <img v-else-if=\"type === 'image'\" :src=\"url\" @load=\"contentLoaded\" @click=\"clickedImage\">\n    <video v-else-if=\"type === 'video'\" :src=\"url + '#t=0.001'\" @loadedmetadata=\"contentLoaded\" controls playsinline></video>\n    <audio v-else-if=\"type === 'audio'\" :src=\"url\" controls></audio>\n    <a v-else-if=\"type === 'application'\" :href=\"url\" class=\"message padding-balloon\" target=\"_blank\" rel=\"noopener noreferrer\">{{ url }}</a>\n    <span class=\"timestamp text-muted mx-1\">{{ tStamp }}</span>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\n\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/ja';\ndayjs.locale('ja');\n\nexport default {\n  name: 'Balloon',\n  props: {\n    chatId: {\n      type: Number,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    speaker: {\n      type: String,\n      required: true\n    },\n    message: {\n      type: String\n    },\n    url: {\n      type: String\n    },\n    timestamp: {\n      type: String,\n      required: true\n    },\n    isFirstLoad: {\n      type: Boolean,\n      required: true\n    },\n    isViewDate: {\n      type: Boolean,\n      required: true\n    },\n    contentScroll: {\n      type: Function\n    },\n    openPreview: {\n      type: Function\n    }\n  },\n  setup(props){\n    // 送信時間の表示\n    const tStamp = computed(() => dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"HH:mm\"));\n    // 日付の表示\n    const viewDate = computed(() => {\n      if(dayjs().isSame( dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\"), \"day\" )){\n        return \"本日\";\n      }else{\n        return dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"MM/DD\");\n      }\n    });\n    // 画像と動画の読み込みフラグ\n    const isContentLoaded = ref(false);\n\n    const contentLoaded = () => {\n      isContentLoaded.value = true;\n      setTimeout(() => {\n        props.contentScroll(props.isFirstLoad);\n      }, 0);\n    }\n\n    //画像クリック時に別タブで画像を開く\n    const clickedImage = (event) => {\n      props.openPreview(event.target.tagName.toLowerCase(), event.target.src);\n    }\n\n    return {\n      tStamp,\n      viewDate,\n      clickedImage,\n      isContentLoaded,\n      contentLoaded,\n    }\n  }\n}\n</script>\n\n<style scoped>\n.balloon {\n  margin: 5px 0;\n  display:flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n.balloon.left {\n  margin-left: 15px;\n}\n.balloon.right {\n  margin-right: 15px;\n  flex-flow: row-reverse;\n}\np,a {\n  max-width: 60%; /*最大幅は任意*/\n  overflow-wrap: break-word;\n  white-space: pre-wrap;\n  text-align: start;\n  border-radius: 12px;\n  margin:0 !important;\n  line-height:1.5;\n}\nimg {\n  cursor: pointer;\n}\n.pc img, .pc video {\n  max-width: 20%;\n}\n.sp img, .sp video {\n  max-width: 70%;\n}\n\nimg, video {\n  border-radius: 6px;\n}\n.balloon.right p,a {\n  color: #fff;\n  background-color: var(--bs-accent);\n}\n\n.balloon.right a:hover {\n\tcolor:#C0C0C0; \t/*リンクにマウスが乗ったら背景色を変更する*/\n}\n\n.balloon.left p {\n  color: #000;\n  background-color: #fff;\n  border: 1px solid var(--bs-accent);\n}\n\n.timestamp {\n  font-size: 70%\n}\n.padding-balloon {\n  padding: 1px 10px;\n}\n</style>\n"]}]}