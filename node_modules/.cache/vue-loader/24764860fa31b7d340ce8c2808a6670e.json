{"remainingRequest":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue","mtime":1652246787000},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1739441789588},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\babel-loader\\lib\\index.js","mtime":1739441795918},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1739441797509}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlZiwgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwoKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0ICdkYXlqcy9sb2NhbGUvamEnOwpkYXlqcy5sb2NhbGUoJ2phJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JhbGxvb24nLAogIHByb3BzOiB7CiAgICBjaGF0SWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNwZWFrZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1lc3NhZ2U6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHRpbWVzdGFtcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaXNGaXJzdExvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpc1ZpZXdEYXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY29udGVudFNjcm9sbDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIG9wZW5QcmV2aWV3OiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uCiAgICB9CiAgfSwKICBzZXR1cChwcm9wcyl7CiAgICAvLyDpgIHkv6HmmYLplpPjga7ooajnpLoKICAgIGNvbnN0IHRTdGFtcCA9IGNvbXB1dGVkKCgpID0+IGRheWpzKHByb3BzLnRpbWVzdGFtcCwgIllZWVktTU0tREQgSEg6bW06c3MuU1NTIikuZm9ybWF0KCJISDptbSIpKTsKICAgIC8vIOaXpeS7mOOBruihqOekugogICAgY29uc3Qgdmlld0RhdGUgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmKGRheWpzKCkuaXNTYW1lKCBkYXlqcyhwcm9wcy50aW1lc3RhbXAsICJZWVlZLU1NLUREIEhIOm1tOnNzLlNTUyIpLCAiZGF5IiApKXsKICAgICAgICByZXR1cm4gIuacrOaXpSI7CiAgICAgIH1lbHNlewogICAgICAgIHJldHVybiBkYXlqcyhwcm9wcy50aW1lc3RhbXAsICJZWVlZLU1NLUREIEhIOm1tOnNzLlNTUyIpLmZvcm1hdCgiTU0vREQiKTsKICAgICAgfQogICAgfSk7CiAgICAvLyDnlLvlg4/jgajli5XnlLvjga7oqq3jgb/ovrzjgb/jg5Xjg6njgrAKICAgIGNvbnN0IGlzQ29udGVudExvYWRlZCA9IHJlZihmYWxzZSk7CgogICAgY29uc3QgY29udGVudExvYWRlZCA9ICgpID0+IHsKICAgICAgaXNDb250ZW50TG9hZGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgcHJvcHMuY29udGVudFNjcm9sbChwcm9wcy5pc0ZpcnN0TG9hZCk7CiAgICAgIH0sIDApOwogICAgfQoKICAgIC8v55S75YOP44Kv44Oq44OD44Kv5pmC44Gr5Yil44K/44OW44Gn55S75YOP44KS6ZaL44GPCiAgICBjb25zdCBjbGlja2VkSW1hZ2UgPSAoZXZlbnQpID0+IHsKICAgICAgcHJvcHMub3BlblByZXZpZXcoZXZlbnQudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSwgZXZlbnQudGFyZ2V0LnNyYyk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdFN0YW1wLAogICAgICB2aWV3RGF0ZSwKICAgICAgY2xpY2tlZEltYWdlLAogICAgICBpc0NvbnRlbnRMb2FkZWQsCiAgICAgIGNvbnRlbnRMb2FkZWQsCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue"],"names":[],"mappings":"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AC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1E;IACF,CAAC,CAAC;IACF,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAElC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;MAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxC,CAAC,EAAE,CAAC,CAAC;IACP;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf;EACF;AACF","file":"C:/Users/m.ebisu/Desktop/zl_connect/src/components/Balloon.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"isViewDate\" class=\"m-2\"><span class=\"bg-white border border-main padding-balloon rounded-pill\">{{ viewDate }}</span></div>\n  <div class=\"balloon\" :class=\"speaker\">\n    <div :class=\"{active: !isContentLoaded && (type === 'image' || type === 'video')}\" class=\"spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">読込中...</span>\n    </div>\n    <p v-if=\"type === 'text'\" class=\"message padding-balloon\">{{ message }}</p>\n    <img v-else-if=\"type === 'sticker'\" :src=\"url\" @load=\"contentLoaded\" class=\"sticker\">\n    <img v-else-if=\"type === 'image'\" :src=\"url\" @load=\"contentLoaded\" @click=\"clickedImage\">\n    <video v-else-if=\"type === 'video'\" :src=\"url + '#t=0.001'\" @loadedmetadata=\"contentLoaded\" controls playsinline></video>\n    <audio v-else-if=\"type === 'audio'\" :src=\"url\" controls></audio>\n    <a v-else-if=\"type === 'application'\" :href=\"url\" class=\"message padding-balloon\" target=\"_blank\" rel=\"noopener noreferrer\">{{ url }}</a>\n    <span class=\"timestamp text-muted mx-1\">{{ tStamp }}</span>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\n\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/ja';\ndayjs.locale('ja');\n\nexport default {\n  name: 'Balloon',\n  props: {\n    chatId: {\n      type: Number,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    speaker: {\n      type: String,\n      required: true\n    },\n    message: {\n      type: String\n    },\n    url: {\n      type: String\n    },\n    timestamp: {\n      type: String,\n      required: true\n    },\n    isFirstLoad: {\n      type: Boolean,\n      required: true\n    },\n    isViewDate: {\n      type: Boolean,\n      required: true\n    },\n    contentScroll: {\n      type: Function\n    },\n    openPreview: {\n      type: Function\n    }\n  },\n  setup(props){\n    // 送信時間の表示\n    const tStamp = computed(() => dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"HH:mm\"));\n    // 日付の表示\n    const viewDate = computed(() => {\n      if(dayjs().isSame( dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\"), \"day\" )){\n        return \"本日\";\n      }else{\n        return dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"MM/DD\");\n      }\n    });\n    // 画像と動画の読み込みフラグ\n    const isContentLoaded = ref(false);\n\n    const contentLoaded = () => {\n      isContentLoaded.value = true;\n      setTimeout(() => {\n        props.contentScroll(props.isFirstLoad);\n      }, 0);\n    }\n\n    //画像クリック時に別タブで画像を開く\n    const clickedImage = (event) => {\n      props.openPreview(event.target.tagName.toLowerCase(), event.target.src);\n    }\n\n    return {\n      tStamp,\n      viewDate,\n      clickedImage,\n      isContentLoaded,\n      contentLoaded,\n    }\n  }\n}\n</script>\n\n<style scoped>\n.balloon {\n  margin: 5px 0;\n  display:flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n.balloon.left {\n  margin-left: 15px;\n}\n.balloon.right {\n  margin-right: 15px;\n  flex-flow: row-reverse;\n}\np,a {\n  max-width: 60%; /*最大幅は任意*/\n  overflow-wrap: break-word;\n  white-space: pre-wrap;\n  text-align: start;\n  border-radius: 12px;\n  margin:0 !important;\n  line-height:1.5;\n}\nimg {\n  cursor: pointer;\n}\n.pc img, .pc video {\n  max-width: 20%;\n}\n.sp img, .sp video {\n  max-width: 70%;\n}\n\nimg, video {\n  border-radius: 6px;\n}\n.balloon.right p,a {\n  color: #fff;\n  background-color: var(--bs-accent);\n}\n\n.balloon.right a:hover {\n\tcolor:#C0C0C0; \t/*リンクにマウスが乗ったら背景色を変更する*/\n}\n\n.balloon.left p {\n  color: #000;\n  background-color: #fff;\n  border: 1px solid var(--bs-accent);\n}\n\n.timestamp {\n  font-size: 70%\n}\n.padding-balloon {\n  padding: 1px 10px;\n}\n</style>\n"]}]}