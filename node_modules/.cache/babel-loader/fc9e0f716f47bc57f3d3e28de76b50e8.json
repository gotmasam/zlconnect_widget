{"remainingRequest":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue?vue&type=template&id=388ef6af&scoped=true","dependencies":[{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue","mtime":1652246787000},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\babel-loader\\lib\\index.js","mtime":1739441795918},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1739441802021},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739441789589},{"path":"C:\\Users\\m.ebisu\\Desktop\\zl_connect\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1739441797509}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibS0yIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiYmctd2hpdGUgYm9yZGVyIGJvcmRlci1tYWluIHBhZGRpbmctYmFsbG9vbiByb3VuZGVkLXBpbGwiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibWVzc2FnZSBwYWRkaW5nLWJhbGxvb24iCn07CmNvbnN0IF9ob2lzdGVkXzQgPSBbInNyYyJdOwpjb25zdCBfaG9pc3RlZF81ID0gWyJzcmMiXTsKY29uc3QgX2hvaXN0ZWRfNiA9IFsic3JjIl07CmNvbnN0IF9ob2lzdGVkXzcgPSBbInNyYyJdOwpjb25zdCBfaG9pc3RlZF84ID0gWyJocmVmIl07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJ0aW1lc3RhbXAgdGV4dC1tdXRlZCBteC0xIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbJHByb3BzLmlzVmlld0RhdGUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzIsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnZpZXdEYXRlKSwgMSAvKiBURVhUICovKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbImJhbGxvb24iLCAkcHJvcHMuc3BlYWtlcl0pCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoW3sKICAgICAgYWN0aXZlOiAhJHNldHVwLmlzQ29udGVudExvYWRlZCAmJiAoJHByb3BzLnR5cGUgPT09ICdpbWFnZScgfHwgJHByb3BzLnR5cGUgPT09ICd2aWRlbycpCiAgICB9LCAic3Bpbm5lci1ib3JkZXIiXSksCiAgICByb2xlOiAic3RhdHVzIgogIH0sIF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICBjbGFzczogInZpc3VhbGx5LWhpZGRlbiIKICB9LCAi6Kqt6L685LitLi4uIiwgLTEgLyogSE9JU1RFRCAqLyldKSwgMiAvKiBDTEFTUyAqLyksICRwcm9wcy50eXBlID09PSAndGV4dCcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJwIiwgX2hvaXN0ZWRfMywgX3RvRGlzcGxheVN0cmluZygkcHJvcHMubWVzc2FnZSksIDEgLyogVEVYVCAqLykpIDogJHByb3BzLnR5cGUgPT09ICdzdGlja2VyJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgIGtleTogMSwKICAgIHNyYzogJHByb3BzLnVybCwKICAgIG9uTG9hZDogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoLi4uYXJncykgPT4gJHNldHVwLmNvbnRlbnRMb2FkZWQgJiYgJHNldHVwLmNvbnRlbnRMb2FkZWQoLi4uYXJncykpLAogICAgY2xhc3M6ICJzdGlja2VyIgogIH0sIG51bGwsIDQwIC8qIFBST1BTLCBORUVEX0hZRFJBVElPTiAqLywgX2hvaXN0ZWRfNCkpIDogJHByb3BzLnR5cGUgPT09ICdpbWFnZScgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJpbWciLCB7CiAgICBrZXk6IDIsCiAgICBzcmM6ICRwcm9wcy51cmwsCiAgICBvbkxvYWQ6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5jb250ZW50TG9hZGVkICYmICRzZXR1cC5jb250ZW50TG9hZGVkKC4uLmFyZ3MpKSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5jbGlja2VkSW1hZ2UgJiYgJHNldHVwLmNsaWNrZWRJbWFnZSguLi5hcmdzKSkKICB9LCBudWxsLCA0MCAvKiBQUk9QUywgTkVFRF9IWURSQVRJT04gKi8sIF9ob2lzdGVkXzUpKSA6ICRwcm9wcy50eXBlID09PSAndmlkZW8nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidmlkZW8iLCB7CiAgICBrZXk6IDMsCiAgICBzcmM6ICRwcm9wcy51cmwgKyAnI3Q9MC4wMDEnLAogICAgb25Mb2FkZWRtZXRhZGF0YTogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAoLi4uYXJncykgPT4gJHNldHVwLmNvbnRlbnRMb2FkZWQgJiYgJHNldHVwLmNvbnRlbnRMb2FkZWQoLi4uYXJncykpLAogICAgY29udHJvbHM6ICIiLAogICAgcGxheXNpbmxpbmU6ICIiCiAgfSwgbnVsbCwgNDAgLyogUFJPUFMsIE5FRURfSFlEUkFUSU9OICovLCBfaG9pc3RlZF82KSkgOiAkcHJvcHMudHlwZSA9PT0gJ2F1ZGlvJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImF1ZGlvIiwgewogICAga2V5OiA0LAogICAgc3JjOiAkcHJvcHMudXJsLAogICAgY29udHJvbHM6ICIiCiAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgX2hvaXN0ZWRfNykpIDogJHByb3BzLnR5cGUgPT09ICdhcHBsaWNhdGlvbicgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJhIiwgewogICAga2V5OiA1LAogICAgaHJlZjogJHByb3BzLnVybCwKICAgIGNsYXNzOiAibWVzc2FnZSBwYWRkaW5nLWJhbGxvb24iLAogICAgdGFyZ2V0OiAiX2JsYW5rIiwKICAgIHJlbDogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgfSwgX3RvRGlzcGxheVN0cmluZygkcHJvcHMudXJsKSwgOSAvKiBURVhULCBQUk9QUyAqLywgX2hvaXN0ZWRfOCkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfOSwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAudFN0YW1wKSwgMSAvKiBURVhUICovKV0sIDIgLyogQ0xBU1MgKi8pXSwgNjQgLyogU1RBQkxFX0ZSQUdNRU5UICovKTsKfQ=="},{"version":3,"names":["class","$props","isViewDate","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$setup","viewDate","_normalizeClass","speaker","active","isContentLoaded","type","role","_hoisted_3","message","src","url","onLoad","_cache","args","contentLoaded","onClick","clickedImage","onLoadedmetadata","controls","playsinline","href","target","rel","_hoisted_8","_hoisted_9","tStamp"],"sources":["C:\\Users\\m.ebisu\\Desktop\\zl_connect\\src\\components\\Balloon.vue"],"sourcesContent":["<template>\n  <div v-if=\"isViewDate\" class=\"m-2\"><span class=\"bg-white border border-main padding-balloon rounded-pill\">{{ viewDate }}</span></div>\n  <div class=\"balloon\" :class=\"speaker\">\n    <div :class=\"{active: !isContentLoaded && (type === 'image' || type === 'video')}\" class=\"spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">読込中...</span>\n    </div>\n    <p v-if=\"type === 'text'\" class=\"message padding-balloon\">{{ message }}</p>\n    <img v-else-if=\"type === 'sticker'\" :src=\"url\" @load=\"contentLoaded\" class=\"sticker\">\n    <img v-else-if=\"type === 'image'\" :src=\"url\" @load=\"contentLoaded\" @click=\"clickedImage\">\n    <video v-else-if=\"type === 'video'\" :src=\"url + '#t=0.001'\" @loadedmetadata=\"contentLoaded\" controls playsinline></video>\n    <audio v-else-if=\"type === 'audio'\" :src=\"url\" controls></audio>\n    <a v-else-if=\"type === 'application'\" :href=\"url\" class=\"message padding-balloon\" target=\"_blank\" rel=\"noopener noreferrer\">{{ url }}</a>\n    <span class=\"timestamp text-muted mx-1\">{{ tStamp }}</span>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\n\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/ja';\ndayjs.locale('ja');\n\nexport default {\n  name: 'Balloon',\n  props: {\n    chatId: {\n      type: Number,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    speaker: {\n      type: String,\n      required: true\n    },\n    message: {\n      type: String\n    },\n    url: {\n      type: String\n    },\n    timestamp: {\n      type: String,\n      required: true\n    },\n    isFirstLoad: {\n      type: Boolean,\n      required: true\n    },\n    isViewDate: {\n      type: Boolean,\n      required: true\n    },\n    contentScroll: {\n      type: Function\n    },\n    openPreview: {\n      type: Function\n    }\n  },\n  setup(props){\n    // 送信時間の表示\n    const tStamp = computed(() => dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"HH:mm\"));\n    // 日付の表示\n    const viewDate = computed(() => {\n      if(dayjs().isSame( dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\"), \"day\" )){\n        return \"本日\";\n      }else{\n        return dayjs(props.timestamp, \"YYYY-MM-DD HH:mm:ss.SSS\").format(\"MM/DD\");\n      }\n    });\n    // 画像と動画の読み込みフラグ\n    const isContentLoaded = ref(false);\n\n    const contentLoaded = () => {\n      isContentLoaded.value = true;\n      setTimeout(() => {\n        props.contentScroll(props.isFirstLoad);\n      }, 0);\n    }\n\n    //画像クリック時に別タブで画像を開く\n    const clickedImage = (event) => {\n      props.openPreview(event.target.tagName.toLowerCase(), event.target.src);\n    }\n\n    return {\n      tStamp,\n      viewDate,\n      clickedImage,\n      isContentLoaded,\n      contentLoaded,\n    }\n  }\n}\n</script>\n\n<style scoped>\n.balloon {\n  margin: 5px 0;\n  display:flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n.balloon.left {\n  margin-left: 15px;\n}\n.balloon.right {\n  margin-right: 15px;\n  flex-flow: row-reverse;\n}\np,a {\n  max-width: 60%; /*最大幅は任意*/\n  overflow-wrap: break-word;\n  white-space: pre-wrap;\n  text-align: start;\n  border-radius: 12px;\n  margin:0 !important;\n  line-height:1.5;\n}\nimg {\n  cursor: pointer;\n}\n.pc img, .pc video {\n  max-width: 20%;\n}\n.sp img, .sp video {\n  max-width: 70%;\n}\n\nimg, video {\n  border-radius: 6px;\n}\n.balloon.right p,a {\n  color: #fff;\n  background-color: var(--bs-accent);\n}\n\n.balloon.right a:hover {\n\tcolor:#C0C0C0; \t/*リンクにマウスが乗ったら背景色を変更する*/\n}\n\n.balloon.left p {\n  color: #000;\n  background-color: #fff;\n  border: 1px solid var(--bs-accent);\n}\n\n.timestamp {\n  font-size: 70%\n}\n.padding-balloon {\n  padding: 1px 10px;\n}\n</style>\n"],"mappings":";;;EACyBA,KAAK,EAAC;;;EAAYA,KAAK,EAAC;AAA0D;;;EAK7EA,KAAK,EAAC;;;;;;;;EAM1BA,KAAK,EAAC;AAA2B;;6DAX9BC,MAAA,CAAAC,UAAU,I,cAArBC,mBAAA,CAAqI,OAArIC,UAAqI,GAAlGC,mBAAA,CAA4F,QAA5FC,UAA4F,EAAAC,gBAAA,CAAlBC,MAAA,CAAAC,QAAQ,iB,wCACrHJ,mBAAA,CAWM;IAXDL,KAAK,EAAAU,eAAA,EAAC,SAAS,EAAST,MAAA,CAAAU,OAAO;MAClCN,mBAAA,CAEM;IAFAL,KAAK,EAAAU,eAAA;MAAAE,MAAA,GAAYJ,MAAA,CAAAK,eAAe,KAAKZ,MAAA,CAAAa,IAAI,gBAAgBb,MAAA,CAAAa,IAAI;IAAA,GAAsB,gBAAgB;IAACC,IAAI,EAAC;gCAC7GV,mBAAA,CAA2C;IAArCL,KAAK,EAAC;EAAiB,GAAC,QAAM,oB,mBAE7BC,MAAA,CAAAa,IAAI,e,cAAbX,mBAAA,CAA2E,KAA3Ea,UAA2E,EAAAT,gBAAA,CAAdN,MAAA,CAAAgB,OAAO,oBACpDhB,MAAA,CAAAa,IAAI,kB,cAApBX,mBAAA,CAAqF;;IAAhDe,GAAG,EAAEjB,MAAA,CAAAkB,GAAG;IAAGC,MAAI,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,MAAA,CAAAe,aAAA,IAAAf,MAAA,CAAAe,aAAA,IAAAD,IAAA,CAAa;IAAEtB,KAAK,EAAC;0DAC3DC,MAAA,CAAAa,IAAI,gB,cAApBX,mBAAA,CAAyF;;IAAtDe,GAAG,EAAEjB,MAAA,CAAAkB,GAAG;IAAGC,MAAI,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,MAAA,CAAAe,aAAA,IAAAf,MAAA,CAAAe,aAAA,IAAAD,IAAA,CAAa;IAAGE,OAAK,EAAAH,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,MAAA,CAAAiB,YAAA,IAAAjB,MAAA,CAAAiB,YAAA,IAAAH,IAAA,CAAY;0DACrErB,MAAA,CAAAa,IAAI,gB,cAAtBX,mBAAA,CAAyH;;IAApFe,GAAG,EAAEjB,MAAA,CAAAkB,GAAG;IAAgBO,gBAAc,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,MAAA,CAAAe,aAAA,IAAAf,MAAA,CAAAe,aAAA,IAAAD,IAAA,CAAa;IAAEK,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAX;0DACnF3B,MAAA,CAAAa,IAAI,gB,cAAtBX,mBAAA,CAAgE;;IAA3Be,GAAG,EAAEjB,MAAA,CAAAkB,GAAG;IAAEQ,QAAQ,EAAR;yCACjC1B,MAAA,CAAAa,IAAI,sB,cAAlBX,mBAAA,CAAyI;;IAAlG0B,IAAI,EAAE5B,MAAA,CAAAkB,GAAG;IAAEnB,KAAK,EAAC,yBAAyB;IAAC8B,MAAM,EAAC,QAAQ;IAACC,GAAG,EAAC;sBAAyB9B,MAAA,CAAAkB,GAAG,wBAAAa,UAAA,K,mCAClI3B,mBAAA,CAA2D,QAA3D4B,UAA2D,EAAA1B,gBAAA,CAAhBC,MAAA,CAAA0B,MAAM,iB","ignoreList":[]}]}